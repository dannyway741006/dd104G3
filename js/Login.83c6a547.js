(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login"],{1276:function(e,t,n){"use strict";var r=n("d784"),o=n("44e7"),i=n("825a"),a=n("1d80"),c=n("4840"),u=n("8aa5"),l=n("50c4"),s=n("14c3"),p=n("9263"),f=n("d039"),d=[].push,m=Math.min,v=4294967295,g=!f((function(){return!RegExp(v,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),i=void 0===n?v:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!o(e))return t.call(r,e,i);var c,u,l,s=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,g=new RegExp(e.source,f+"g");while(c=p.call(g,r)){if(u=g.lastIndex,u>m&&(s.push(r.slice(m,c.index)),c.length>1&&c.index<r.length&&d.apply(s,c.slice(1)),l=c[0].length,m=u,s.length>=i))break;g.lastIndex===c.index&&g.lastIndex++}return m===r.length?!l&&g.test("")||s.push(""):s.push(r.slice(m)),s.length>i?s.slice(0,i):s}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=a(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var a=n(r,e,this,o,r!==t);if(a.done)return a.value;var p=i(e),f=String(this),d=c(p,RegExp),h=p.unicode,b=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(g?"y":"g"),y=new d(g?p:"^(?:"+p.source+")",b),O=void 0===o?v:o>>>0;if(0===O)return[];if(0===f.length)return null===s(y,f)?[f]:[];var _=0,j=0,x=[];while(j<f.length){y.lastIndex=g?j:0;var C,I=s(y,g?f:f.slice(j));if(null===I||(C=m(l(y.lastIndex+(g?0:j)),f.length))===_)j=u(f,j,h);else{if(x.push(f.slice(_,j)),x.length===O)return x;for(var w=1;w<=I.length-1;w++)if(x.push(I[w]),x.length===O)return x;j=_=C}}return x.push(f.slice(_)),x}]}),!g)},"14c3":function(e,t,n){var r=n("c6b6"),o=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var i=n.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"206d":function(e,t,n){"use strict";var r=n("f79c"),o=n.n(r);o.a},"234d":function(e,t,n){},"2df6":function(e,t,n){"use strict";var r=n("5f98"),o=n.n(r);o.a},"33b4":function(e,t,n){"use strict";var r=n("64e9"),o=n.n(r);o.a},"44e7":function(e,t,n){var r=n("861d"),o=n("c6b6"),i=n("b622"),a=i("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},"47e1":function(e,t,n){"use strict";var r=n("a49e"),o=n.n(r);o.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),o=n("5899"),i="["+o+"]",a=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),u=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(c,"")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},"5f98":function(e,t,n){},"64e9":function(e,t,n){},"72b0":function(e,t,n){},"744f":function(e,t,n){"use strict";var r=n("ecde"),o=n.n(r);o.a},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},9263:function(e,t,n){"use strict";var r=n("ad6d"),o=RegExp.prototype.exec,i=String.prototype.replace,a=o,c=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=void 0!==/()??/.exec("")[1],l=c||u;l&&(a=function(e){var t,n,a,l,s=this;return u&&(n=new RegExp("^"+s.source+"$(?!\\s)",r.call(s))),c&&(t=s.lastIndex),a=o.call(s,e),c&&a&&(s.lastIndex=s.global?a.index+a[0].length:t),u&&a&&a.length>1&&i.call(a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a}),e.exports=a},a01f:function(e,t,n){},a485:function(e,t,n){"use strict";n("b0c0");t["a"]=function(){var e=new FileReader,t=function(t){var n=t.target.files[0];n&&(e.fileName=n.name,e.fileType=n.type,e.readAsDataURL(n))};return{reader:e,changeFile:t}}},a49e:function(e,t,n){},a55b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("transition",{attrs:{name:"fade"}},[e.isLogin?n("LoginView",{key:"login"}):n("div",{key:"unlogin"},[n("LoginTrack",{attrs:{mode:e.mode},on:{"update:mode":function(t){e.mode=t}}}),n("LoginForm",{attrs:{mode:e.mode},on:{"update:mode":function(t){e.mode=t}}})],1)],1)],1)},o=[],i=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ValidationObserver",{ref:"form",staticClass:"loginFrom",class:{mode:e.mode},attrs:{tag:"div"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.passes;t.reset;return[n("div",{staticClass:"select_mode"},[n("button",{class:{active:!e.mode},attrs:{type:"button"},on:{click:function(t){e.changeMode=0}}},[e._v(" Sign Up ")]),n("button",{class:{active:e.mode},attrs:{type:"button"},on:{click:function(t){e.changeMode=1}}},[e._v(" Sign In ")])]),n("form",{on:{submit:function(t){return t.preventDefault(),r(e.submit)}}},[n("div",{staticClass:"form_field"},[n("transition-group",{attrs:{tag:"div",name:"flip"}},e._l(e.formInfo[e.mode].fields,(function(t){return n(t.component,{key:t.name,tag:"component",attrs:{rules:t.require,placeholder:t.placeholder,name:t.name,type:t.type,field:t.field,content:t.content},scopedSlots:e._u([{key:"slotButton",fn:function(){return["forget"===t.name?n("button",{attrs:{type:t.type},on:{click:function(t){e.changeMode=2}}},[e._v(" "+e._s(t.content)+" ")]):"back"===t.name?n("button",{attrs:{type:t.type},on:{click:function(t){e.changeMode=1}}},[e._v(" "+e._s(t.content)+" ")]):n("button",{attrs:{type:t.type}},[e._v(" "+e._s(t.content)+" ")])]},proxy:!0}],null,!0),model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"input.value"}})})),1)],1)])]}}])})},c=[],u=(n("b0c0"),n("a9e3"),n("d3b7"),n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ValidationProvider",{staticClass:"inputComponent",attrs:{vid:e.field,tag:"div",rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,o=t.failed;return[n("label",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.inputValue,expression:"inputValue",modifiers:{trim:!0}}],attrs:{type:e.type,name:e.name,placeholder:e.placeholder,autocomplete:"off"},domProps:{value:e.inputValue},on:{input:function(t){t.target.composing||(e.inputValue=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("p",[e._v(e._s(e.field))]),n("span",{class:{invalid:o}})]),n("p",{staticClass:"error"},[e._v(" "+e._s(r[0])+" ")])]}}])})}),l=[],s=n("750b"),p={name:"InputComponent",props:{name:{type:String,required:!0},value:{type:String,required:!0},placeholder:{type:String,required:!0},rules:{type:String,required:!0},type:{type:String,required:!0},field:{type:String,required:!0}},setup:function(e,t){var n=t.emit,r=Object(s["a"])({get:function(){return e.value},set:function(e){n("input",e)}});return{inputValue:r}}},f=p,d=(n("e67f"),n("2877")),m=Object(d["a"])(f,u,l,!1,null,null,null),v=m.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fileComponent"},[r("div",{staticClass:"preview"},[r("img",{attrs:{src:e.shotUrl?e.shotUrl:""+n("d710"),alt:"user"}}),r("div",{staticClass:"headshot"},[r("label",[r("img",{attrs:{src:n("ac8c"),alt:"upload",width:"20"}}),r("input",{ref:e.name,attrs:{type:e.type,name:e.name},on:{change:e.changeFile}})])])])])},h=[],b=(n("1276"),n("a485")),y={name:"FileComponent",props:{name:{type:String,required:!0},value:{type:Object,required:!0},type:{type:String,required:!0}},setup:function(e,t){var n=t.emit,r=t.refs,o=Object(b["a"])(),i=o.reader,a=o.changeFile,c=Object(s["a"])({get:function(){return e.value.src},set:function(e){n("input",e)}}),u=function(e){var t=e.target,n=t.fileName.split(".").pop();if(r.headshot.type="text",r.headshot.type="file","jpg"===n||"jpeg"===n||"gif"===n||"png"===n){var o=t.fileType,i=t.result;c.value={extension:n,type:o,src:i}}else alert("請上傳正確檔案格式: (jpg, jpeg, gif, png)")};return Object(s["e"])((function(){i.addEventListener("load",u)})),Object(s["d"])((function(){i.removeEventListener("load",u)})),{changeFile:a,shotUrl:c}}},O=y,_=(n("744f"),Object(d["a"])(O,g,h,!1,null,null,null)),j=_.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",{staticClass:"titleComponent"},[e._v(" "+e._s(e.content)+" ")])},C=[],I={name:"TitleComponent",props:{content:{type:String,required:!0}}},w=I,E=(n("2df6"),Object(d["a"])(w,x,C,!1,null,null,null)),S=E.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"buttonComponent"},[e._t("slotButton")],2)},P=[],q={name:"ButtonComponent",props:{content:{type:String,required:!0}}},T=q,N=(n("e7e2"),Object(d["a"])(T,k,P,!1,null,null,null)),R=N.exports,F=n("2f62"),L=function(){var e=Object(s["f"])([{fields:[{component:"TitleComponent",type:"title",name:"mode0Title",content:"Sign Up"},{component:"FileComponent",type:"file",name:"headshot",value:{}},{component:"InputComponent",field:"Account",type:"text",name:"mem_id",placeholder:"請輸入帳號",require:"required",value:""},{component:"InputComponent",field:"Password",type:"password",name:"mem_psw",placeholder:"請輸入密碼",require:"required",value:""},{component:"InputComponent",field:"Email",type:"email",name:"mem_email",placeholder:"請輸入電子信箱",require:"email",value:""},{component:"ButtonComponent",name:"signup",content:"Sign Up",type:"submit"}]},{fields:[{component:"TitleComponent",type:"title",name:"mode1Title",content:"Sign In"},{component:"InputComponent",field:"Account",type:"text",name:"mem_id",placeholder:"請輸入帳號",require:"required",value:""},{component:"InputComponent",field:"Password",type:"password",name:"mem_psw",placeholder:"請輸入密碼",require:"required",value:""},{component:"ButtonComponent",name:"signin",content:"Sign In",type:"submit"},{component:"ButtonComponent",name:"forget",content:"Forget ?",type:"button"}]},{fields:[{component:"TitleComponent",type:"title",name:"mode2Title",content:"Reset Password"},{component:"InputComponent",field:"Email",type:"email",name:"mem_email",placeholder:"請輸入電子信箱",require:"email|required",value:""},{component:"ButtonComponent",name:"reset",content:"Send E-Mail",type:"submit"},{component:"ButtonComponent",name:"back",content:"Back",type:"button"}]}]);return{formInfo:e}};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={name:"LoginForm",components:{InputComponent:v,FileComponent:j,ButtonComponent:R,TitleComponent:S},props:{mode:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,r=t.refs,o=L(),i=o.formInfo,a=Object(s["a"])({get:function(){return e.mode},set:function(e){n("update:mode",e)}}),c=Object(s["a"])((function(){return i.value[e.mode].fields.reduce((function(e,t,n,r){return t.value&&("file"===t.type?(e[t.name]=t.value.src,e.file_ext=t.value.extension,e.file_type=t.value.type):e[t.name]=t.value),e}),{})})),u=Object(s["a"])((function(){return e.mode?"./php/member/login.php":"./php/member/signup.php"}));return Object(s["g"])((function(){return e.mode}),(function(){requestAnimationFrame((function(){r.form.reset()}))}),{lazy:!0}),{changeMode:a,formInfo:i,url:u,inputFileInfo:c}},methods:A({},Object(F["b"])("memberStore",["SUBMIT"]),{submit:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return this.$refs.form.reset(),t.next=3,regeneratorRuntime.awrap(this.SUBMIT({url:this.url,data:this.inputFileInfo}));case 3:e=t.sent,"註冊成功"===e.content&&(this.changeMode=1),"success"===e.status&&this.formInfo[this.mode].fields.forEach((function(e){"file"===e.type?e.value={}:e.value&&(e.value="")})),"error"===e.status&&this.$refs.form.refs.Account.applyResult({errors:["".concat(e.content)],valid:!1,failedRules:{}}),"帳號或密碼錯誤"===e.content&&this.$refs.form.refs.Password.applyResult({errors:["".concat(e.content)],valid:!1,failedRules:{}});case 8:case"end":return t.stop()}}),null,this)}})},U=$,D=(n("33b4"),Object(d["a"])(U,a,c,!1,null,null,null)),V=D.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"LoginTrack"},[n("div",{staticClass:"mode sign_in"},[n("div",[n("h2",[e._v("還沒有帳號嗎?")]),n("p",[e._v(" 立即成為數百萬每日使用 職人口袋－Master Pocket 的用戶之一！ ")]),n("button",{on:{click:function(t){e.changeMode=0}}},[e._v(" Sign Up ")])])]),n("div",{staticClass:"mode sign_up"},[n("div",[n("h2",[e._v("立即登入!")]),n("p",[e._v(" 馬上登入開始使用 職人口袋－Master Pocket 吧! ")]),n("button",{on:{click:function(t){e.changeMode=1}}},[e._v(" Sign In ")])])])])},G=[],J={name:"LoginTrack",props:{mode:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,r=Object(s["a"])({get:function(){return e.mode},set:function(e){n("update:mode",e)}});return{changeMode:r}}},X=J,Y=(n("dbdf"),Object(d["a"])(X,B,G,!1,null,null,null)),z=Y.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login_view"},[n("div",{staticClass:"title"},[n("h2",[e._v("Welcome back !")]),n("p",[e._v(e._s(e.userInfo.mem_id))])]),n("div",{staticClass:"headshot"},[n("img",{attrs:{src:e.headShot,alt:"user"}})]),n("div",{staticClass:"control"},[e._m(0),n("button",{staticClass:"control_logout",on:{click:e.LOGOUT}},[e._v(" 登出 ")])])])},H=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"control_member",attrs:{href:"#"}},[n("button",[e._v(" 會員中心 ")])])}];function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z={name:"LoginView",computed:Q({},Object(F["e"])("memberStore",["userInfo"]),{headShot:function(){return this.userInfo.headshot?"./userImg/".concat(this.userInfo.headshot):"".concat(n("d710"))}}),methods:Q({},Object(F["b"])("memberStore",["LOGOUT"]))},ee=Z,te=(n("47e1"),Object(d["a"])(ee,W,H,!1,null,null,null)),ne=te.exports;function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie={name:"Login",components:{LoginForm:V,LoginTrack:z,LoginView:ne},setup:function(){var e=Object(s["f"])(0);return{mode:e}},computed:oe({},Object(F["e"])(["isLogin"]))},ae=ie,ce=(n("206d"),Object(d["a"])(ae,r,o,!1,null,null,null));t["default"]=ce.exports},a9e3:function(e,t,n){"use strict";var r=n("83ab"),o=n("da84"),i=n("94ca"),a=n("6eeb"),c=n("5135"),u=n("c6b6"),l=n("7156"),s=n("c04e"),p=n("d039"),f=n("7c73"),d=n("241c").f,m=n("06cf").f,v=n("9bf2").f,g=n("58a8").trim,h="Number",b=o[h],y=b.prototype,O=u(f(y))==h,_=function(e){var t,n,r,o,i,a,c,u,l=s(e,!1);if("string"==typeof l&&l.length>2)if(l=g(l),t=l.charCodeAt(0),43===t||45===t){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+l}for(i=l.slice(2),a=i.length,c=0;c<a;c++)if(u=i.charCodeAt(c),u<48||u>o)return NaN;return parseInt(i,r)}return+l};if(i(h,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var j,x=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof x&&(O?p((function(){y.valueOf.call(n)})):u(n)!=h)?l(new b(_(t)),n,x):_(t)},C=r?d(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;C.length>I;I++)c(b,j=C[I])&&!c(x,j)&&v(x,j,m(b,j));x.prototype=y,y.constructor=x,a(o,h,x)}},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},d784:function(e,t,n){"use strict";var r=n("9112"),o=n("6eeb"),i=n("d039"),a=n("b622"),c=n("9263"),u=a("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),s=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,p){var f=a(e),d=!i((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),m=d&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!d||!m||"replace"===e&&!l||"split"===e&&!s){var v=/./[f],g=n(f,""[e],(function(e,t,n,r,o){return t.exec===c?d&&!o?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),h=g[0],b=g[1];o(String.prototype,e,h),o(RegExp.prototype,f,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)}),p&&r(RegExp.prototype[f],"sham",!0)}}},dbdf:function(e,t,n){"use strict";var r=n("a01f"),o=n.n(r);o.a},e67f:function(e,t,n){"use strict";var r=n("72b0"),o=n.n(r);o.a},e7e2:function(e,t,n){"use strict";var r=n("234d"),o=n.n(r);o.a},ecde:function(e,t,n){},f79c:function(e,t,n){}}]);